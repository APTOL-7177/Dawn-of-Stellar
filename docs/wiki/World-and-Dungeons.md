# 월드 & 던전 완벽 가이드

> 절차적으로 생성되는 던전의 비밀

---

## 📖 목차

1. [던전 생성 시스템](#던전-생성-시스템)
2. [타일 종류](#타일-종류)
3. [던전 구조](#던전-구조)
4. [적 배치 시스템](#적-배치-시스템)
5. [아이템 드랍](#아이템-드랍)
6. [특수 방](#특수-방)
7. [층별 특징](#층별-특징)
8. [탐험 전략](#탐험-전략)

---

## 🏗️ 던전 생성 시스템

### BSP (Binary Space Partitioning) 알고리즘

**생성 과정**:
```
1단계: 맵 영역 분할
┌─────────────────────┐
│                     │
│                     │
│                     │
└─────────────────────┘

2단계: 재귀적 분할
┌──────────┬──────────┐
│          │          │
│    A     │    B     │
│          │          │
├─────┬────┴────┬─────┤
│  C  │    D    │  E  │
└─────┴─────────┴─────┘

3단계: 방 생성
┌──────────┬──────────┐
│ ████     │     ████ │
│ ████  A  │  B  ████ │
│ ████     │     ████ │
├─────┬────┴────┬─────┤
│ ██  │    D    │  ██ │
└─────┴─────────┴─────┘

4단계: 복도 연결
┌──────────┬──────────┐
│ ████═════╪═════████ │
│ ████  A  │  B  ████ │
│ ████     ║     ████ │
├─────┬────╬────┬─────┤
│ ██  │  D ║    │  ██ │
└─────┴────╨────┴─────┘
```

### 생성 파라미터

| 파라미터 | 범위 | 설명 |
|----------|------|------|
| **맵 크기** | 80×50 ~ 120×80 | 층수에 따라 증가 |
| **방 개수** | 5~15개 | 층수에 따라 증가 |
| **최소 방 크기** | 5×5 | 고정 |
| **최대 방 크기** | 15×15 | 층수에 따라 증가 |
| **복도 너비** | 1~3 | 주로 1칸 |

---

## 🎨 타일 종류

### 기본 타일

| 타일 | 표시 | 설명 | 이동 |
|------|------|------|------|
| **바닥** | `.` | 이동 가능 | ✅ |
| **벽** | `#` | 이동 불가 | ❌ |
| **문** | `+` | 열고 닫을 수 있음 | ✅ (열림) |
| **복도** | `=` | 방 연결 통로 | ✅ |

### 특수 타일

| 타일 | 표시 | 설명 | 상호작용 |
|------|------|------|----------|
| **계단 (내려가기)** | `>` | 다음 층으로 | Enter |
| **계단 (올라가기)** | `<` | 이전 층으로 | Enter |
| **상자** | `□` | 아이템 획득 | Enter |
| **안전 지대** | `🕯️` | 휴식, 저장 | R키 |
| **함정** | `^` | 피해 or 디버프 | 밟으면 발동 |
| **제단** | `⛩️` | 버프 or 선택지 | Enter |

---

## 🏰 던전 구조

### 방 종류

**일반 방** (70%):
- 적 2~5마리
- 아이템 0~2개
- 기본 구조

**보물 방** (15%):
- 적 없음
- 상자 2~5개
- 높은 아이템 드랍

**정예 방** (10%):
- 강한 적 1~2마리
- 좋은 아이템 보장
- 높은 경험치

**보스 방** (5%):
- 층 보스 1마리
- 전설 아이템 확정
- 계단 출현

### 복도 시스템

**복도 특징**:
- 폭 1~3칸
- 직선 또는 L자
- 가끔 함정 배치
- 적 스폰 적음

**복도 종류**:
- **직선 복도**: 두 방을 직선 연결
- **L자 복도**: 꺾인 복도
- **교차로**: 3개 이상 방 연결

---

## 👾 적 배치 시스템

### 적 스폰 규칙

**방 크기별 적 수**:
```
작은 방 (5×5):   1~2마리
중간 방 (8×8):   2~4마리
큰 방 (12×12):   4~6마리
보스 방:          1마리 (보스)
```

**층수별 적 강도**:
```
1~10층:   레벨 1~10 (기본)
11~20층:  레벨 11~20 (정예)
21~30층:  레벨 21~30 (강력)
31~50층:  레벨 31~50 (최강)
50층+:    레벨 50+ (무한 성장)
```

### 적 종류

**일반 적**:
- 슬라임 (HP: 50, 약함)
- 고블린 (HP: 100, 기본)
- 오크 (HP: 200, 강함)
- 트롤 (HP: 300, 매우 강함)

**정예 적**:
- 고블린 전사 (HP: 150, 방어 높음)
- 고블린 주술사 (HP: 100, 마법 공격)
- 오크 전사 (HP: 250, 강력함)

**보스**:
- 10층: 고블린 왕 (HP: 500)
- 20층: 오크 대장 (HP: 1000)
- 30층: 드래곤 (HP: 2000)
- 50층: 최종 보스 (HP: 5000)

---

## 💎 아이템 드랍

### 드랍 확률

**일반 적**:
```
골드: 100% (10~50)
아이템: 20%
  - 일반: 70%
  - 고급: 25%
  - 희귀: 5%
```

**정예 적**:
```
골드: 100% (50~100)
아이템: 50%
  - 일반: 40%
  - 고급: 40%
  - 희귀: 15%
  - 영웅: 5%
```

**보스**:
```
골드: 100% (200~500)
아이템: 100% (2~5개)
  - 희귀: 50%
  - 영웅: 30%
  - 전설: 20%
```

### 상자 보상

**일반 상자**:
- 골드: 50~100
- 아이템: 1~2개
- 포션: 1~3개

**금색 상자**:
- 골드: 100~300
- 아이템: 2~4개 (고급 이상)
- 포션: 3~5개

**전설 상자**:
- 골드: 500~1000
- 아이템: 전설 1개 확정
- 포션: 5~10개

---

## 🌟 특수 방

### 안전 지대 🕯️

**특징**:
- 적 스폰 없음
- HP/MP 자동 회복
- 저장 가능
- 요리 가능

**출현 규칙**:
- 5층마다 1개 보장
- 큰 방에 우선 배치
- 계단 근처 배치 가능성 높음

### 제단 방 ⛩️

**효과 종류**:

**1. 힘의 제단**:
- 공격력 +20% (5층 동안)
- 대가: 골드 100

**2. 지혜의 제단**:
- 마법 +20% (5층 동안)
- 대가: MP 50

**3. 생명의 제단**:
- HP 최대치 +30% (5층 동안)
- 대가: 현재 HP 50%

**4. 시간의 제단**:
- 속도 +30% (5층 동안)
- 대가: 골드 200

**5. 저주의 제단**:
- 무작위 효과 (좋거나 나쁨)
- 대가: 없음

---

## 🗺️ 층별 특징

### 1~10층: 초보자 구역

**특징**:
- 작은 던전
- 약한 적
- 많은 아이템
- 안전 지대 자주 출현

**추천 전략**:
- 모든 방 탐험
- 아이템 수집
- 레벨 10 달성

---

### 11~20층: 중급 구역

**특징**:
- 중간 크기 던전
- 정예 적 출현
- 함정 증가
- 제단 출현 시작

**추천 전략**:
- 선택적 전투
- HP/MP 관리
- 요리 활용

---

### 21~30층: 고급 구역

**특징**:
- 큰 던전
- 강한 적
- 복잡한 구조
- 제단 자주 출현

**추천 전략**:
- 신중한 전투
- 패시브 활용
- 전략적 휴식

---

### 31~50층: 최종 구역

**특징**:
- 거대 던전
- 최강 적
- 복잡한 미로
- 특수 이벤트

**추천 전략**:
- 완벽한 준비
- 최적 빌드
- 전문가 전술

---

### 51층+: 무한 도전

**특징**:
- 끝없는 던전
- 적 무한 강화
- 최고 보상
- 업적 도전

**추천 전략**:
- 최강 캐릭터
- 완벽한 장비
- 무한 도전

---

## 🧭 탐험 전략

### 효율적 탐험 경로

**벽 따라가기 전략**:
```
시작 →→→→↓
↑       ↓
↑       ↓
↑←←←←←←↓
        ↓
    계단 도착
```

**장점**:
- 모든 방 방문 보장
- 놓치는 아이템 없음
- 체계적 탐험

**단점**:
- 시간 소모
- 많은 전투

---

### 속도 런 경로

**직행 전략**:
```
시작 →↓
     ↓
   계단
```

**장점**:
- 빠른 진행
- MP/HP 절약
- 시간 효율

**단점**:
- 아이템 획득 적음
- 경험치 손실
- 보물 놓침

---

### 하이브리드 경로

**선택적 탐험**:
```
시작 →→↓
↑     ↓ (상자만)
↑  계단
```

**규칙**:
1. 보물 방: 반드시 방문
2. 일반 방: 선택적
3. 안전 지대: 항상 방문
4. 제단: 상황에 따라

---

## 💡 탐험 팁

### 미니맵 활용

**키보드 단축키**:
- **Tab**: 미니맵 열기
- **M**: 전체 지도

**미니맵 기호**:
```
@  - 플레이어
E  - 적
>  - 계단 (내려가기)
<  - 계단 (올라가기)
□  - 상자
🕯️ - 안전 지대
⛩️ - 제단
```

---

### 함정 회피

**함정 종류**:
- 화살 함정 (물리 피해)
- 독 함정 (독 상태)
- 함정 함정 (슬로우)
- 마법 함정 (마법 피해)

**회피 방법**:
1. **주의 깊게 이동** - 복도 조심
2. **무당 직업** - 함정 자동 발견
3. **도적 직업** - 함정 해제 가능

---

### 상자 우선순위

**상자 색상**:
- **갈색**: 일반 상자 (낮은 보상)
- **금색**: 희귀 상자 (좋은 보상)
- **빛나는 금색**: 전설 상자 (최고 보상)

**전략**:
1. 전설 상자 최우선
2. 금색 상자 다음
3. 일반 상자는 마지막

---

<div align="center">

## 🗺️ 던전을 정복하세요!

**완벽한 탐험으로 최고의 보물을 획득하세요!**

[← Wiki 홈](Home.md) | [시작 가이드 →](Getting-Started.md)

</div>
